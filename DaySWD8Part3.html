<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day8 SWD Part3</title>
    <link rel="icon" href="Shraddha-hd-1.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
</head>
    
<body>
    <h1>Mini Project</h1>
    
    <input type="text" id="input"><button id="btn" onclick="inputText()">Click</button>

    <ul id="list">
    
    </ul>

    <script>
        let input = document.getElementById("input");
        let list = document.getElementById("list");
        let minTextLength = 3;
        let i = 1;

        function inputText(){
            let text = input.value;
            let textNumber = totalText(text);

            if(textNumber){
                showList(textNumber)
            }
            
            document.getElementById("input").value = "";
           
        }

        // function showListBackUp(text){
        //     list.innerHTML += `<li class="listItem animate__animated animate__fadeInDown" id="liList${i}">
        //             <button onclick="deleteBtn(${i})" id="btn del-btn">Delete</button>
        //             <button onclick="editBtn(${i}) "id="btn edit-btn">Edit</button>
        //             <span id="spanText${i}">${text}</span>
        //             </li>` ;
        //             i++      
        // }

        function showList(){
            let deleteBtn = document.createElement("BUTTON");
            deleteBtn.innerHTML = "Delete";
            deleteBtn.style.marginRight='5px';
            deleteBtn.setAttribute("id","btn deleteBtn");
            deleteBtn.onclick = `deleteBtn(${i})`

            let editBtn = document.createElement("BUTTON");
            editBtn.innerHTML = "Edit";
            editBtn.style.marginRight='5px';

            let span = document.createElement("span");
            let content = document.createTextNode(input.value);
            span.setAttribute(`id`,`spanText${i}`);
            span.appendChild(content);

            let li = document.createElement("LI");
            li.style.padding = '5px';
            li.appendChild(deleteBtn);
            li.appendChild(editBtn);
            li.appendChild(span);
            li.classList = "animate__animated animate__fadeInDown";
            li.setAttribute(`id`,`liList${i}`);
            list.appendChild(li);   
            i++;
        }    

        
        // function showList(){
        //     let li = document.createElement("LI");
        //     let content = document.createTextNode(input.value);
        //     li.appendChild(content);
        //     li.classList = "animate__animated animate__fadeInDown";
        //     list.appendChild(li);
        // }
       
        function totalText(x){
        if(x){
            if(x.length>=minTextLength){
                
                return x;
            }
            else{
               alert("Minimun Text is 3!")
                
            }
        }else{
            alert("Text is Empty!")
            
        }
        }

       function deleteBtn(listId){  
        
        let current = document.getElementById(`liList${listId}`);
        let currentText = document.getElementById(`spanText${listId}`).innerHTML;
        let confirmDelete = confirm(`Are you sure to delete ${currentText}?`)
        if(confirmDelete){
        list.removeChild(current);}else{
            alert("Delete Cancelled!")
        }
       }

       function editBtn(listId){
        
        let currentText = document.getElementById(`spanText${listId}`);
         
        let editText = prompt("Write something",currentText.innerHTML);

        if(totalText(editText)){
        currentText.innerHTML = editText;
        }

       }





    </script>
</body>
</html>